<html>
<script>

    var arr, 
    // arr = [1, 3, 3, 4, 4,5,6,6,7,8,13,24,4,24, -1000000];
    // arr = [];
    // arr = [-10];
    // arr = [-2, 1];
    // arr = [-3, 1, 3];
    // arr = [-2, 1, 1];
    arr = [3,2,-6,4,0];

    function solution(A) {

        var sum = [], ret = 0;

        if (A.length > 1000000) {
            return 0;
        }

        if(A.length < 1) {
            return 0;
        }

        maxEnding = 0, maxSlice = -1000000010;

        for ( var x = 0 ; x < A.length ; x ++ ) {
            if ( A[x] < -1000000 || A[x] > 1000000 ) { 
                return 0; 
            }

            maxEnding = Math.max( A[x], maxEnding + A[x] );
            maxSlice  = Math.max( maxSlice, maxEnding );
        }
        maxSlice  = Math.max( maxSlice, A[ A.length -1 ] );
        return  maxSlice;
    }

    console.info(solution(arr))

</script>
</hmtl>